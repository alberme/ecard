{"version":3,"sources":["images/snow.jpg","components/CustomizeMessage/index.js","components/Welcome/index.js","components/GreetingCard/index.js","services/firebase.service.js","components/Share/index.js","components/Preview/index.js","App.js","index.js"],"names":["CustomizeMessage","setGreetingData","greetingData","setStatus","greeting","body","closing","useState","formData","setFormData","handleInputChange","event","target","name","value","className","src","snow","alt","placeholder","type","onChange","id","cols","rows","onClick","preventDefault","Welcome","GreetingCard","FIREBASE_API_URL","process","domainUriPrefix","link","a","response","data","dynamicLinkInfo","socialMetaTagInfo","socialTitle","socialDescription","suffix","option","fetch","method","headers","JSON","stringify","console","error","json","Share","show","setShowShare","shareMethod","setShareMethod","email","setEmail","shortLink","setShortLink","shortLinkError","setShortLinkError","createShareUrl","url","encodeURIComponent","sendEmail","mailto","window","open","useEffect","generateShortLink","then","catch","htmlFor","readOnly","renderShareMethod","Preview","showShare","App","query","URLSearchParams","location","search","get","keys","length","status","renderApp","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8754f6a1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/snow.55218894.jpg\";","import { useState } from \"react\";\nimport \"./styles.css\";\nimport snow from '../../images/snow.jpg';\n\nexport default function CustomizeMessage({ setGreetingData, greetingData, setStatus }) {\n  const { greeting, body, closing } = greetingData;\n  const [formData, setFormData] = useState({ \n    greeting,\n    body,\n    closing,\n  });\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    setGreetingData({ ...formData });\n    setStatus('preview');\n  }\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setFormData({ ...formData, [name]: value });\n  }\n\n  return (\n    <div className=\"customize-message-container\">\n      <div className=\"customize-message-header\">\n        <img src={snow} alt=\"snow\"/>\n        <h4>How to reshare: Write your own custom message below!</h4>\n      </div>\n      <form className=\"form-container\">\n\n          <div className=\"input-fields-container\">\n            <input\n              placeholder=\"Greeting\"\n              type=\"text\"\n              name=\"greeting\"\n              value={formData.greeting}\n              onChange={handleInputChange}\n            />\n            <textarea\n              placeholder=\"Body\"\n              name=\"body\"\n              id=\"input-field-body\"\n              cols=\"30\"\n              rows=\"10\"\n              value={formData.body}\n              onChange={handleInputChange}\n            >\n            </textarea>\n            <input\n              placeholder=\"Closing\"\n              type=\"text\"\n              name=\"closing\"\n              value={formData.closing}\n              onChange={handleInputChange}\n            />\n          </div>\n        \n        <button\n          onClick={handleSubmit}\n        >\n          Preview\n        </button>\n      </form>\n    </div>\n  )\n}","import snow from '../../images/snow.jpg'\nimport './styles.css';\n\nexport default function Welcome({ setStatus }) {\n  return (\n    <div className=\"splash-container\">\n      <div className=\"splash-left\">\n        <div className=\"splash-left-headers\">\n          <h2>Create a Holiday Greeting Card!</h2>\n          <h4>Share Your Greeting Card with Family and Friends!</h4>\n        </div>\n        <button onClick={() => setStatus('customize')}>Get Started</button>\n      </div>\n      <div className=\"splash-right\">\n        <img src={snow} alt=\"snow\" />\n      </div>\n    </div>\n  )\n}","import snow from '../../images/snow.jpg';\nimport './styles.css';\n\nfunction GreetingCard({ greetingData }) {\n  const { greeting, body, closing } = greetingData;\n  return (\n    <div className=\"greeting-card-container\">\n      <img src={snow} className=\"App-logo\" alt=\"snow\" />\n      <p>{greeting}</p>\n      <p>{body}</p>\n      <p>{closing}</p>\n    </div>\n  );\n}\n\nexport default GreetingCard;\n","const FIREBASE_API_URL = `https://firebasedynamiclinks.googleapis.com/v1/shortLinks?key=${process.env.REACT_APP_FIREBASE_KEY}`\nconst domainUriPrefix = 'https://ecardr.page.link'\n\nexport async function generateShortLink(link) {\n  let response = null;\n  const data = {\n    dynamicLinkInfo: {\n      domainUriPrefix,\n      link,\n      socialMetaTagInfo: {\n        socialTitle: 'E-Card App',\n        socialDescription: 'You received an e-greeting card',\n        // socialImageLink: 'string'\n      }\n    },\n    suffix: {\n      option: 'SHORT'\n    },\n  }\n\n  try {\n    response = await fetch(FIREBASE_API_URL, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(data)\n    });\n  } catch (error) {\n    console.error('generateShortLink()\\n', error);\n    throw error;\n  }\n  return response.json();\n}","import { useState, useEffect } from 'react';\nimport { IoMdCloseCircleOutline } from 'react-icons/io';\nimport { MdOutlineMail, MdOutlineLink } from 'react-icons/md';\nimport { generateShortLink } from '../../services/firebase.service';\nimport './styles.css';\n\nexport default function Share({ show, setShowShare, greetingData }) {\n  const [shareMethod, setShareMethod] = useState('');\n  const [email, setEmail] = useState('');\n  const [shortLink, setShortLink] = useState('');\n  const [shortLinkError, setShortLinkError] = useState(false);\n\n  const createShareUrl = () => {\n    const { greeting, body, closing } = greetingData;\n    let url = 'https://alberme.github.io/ecard';\n    url += `?greeting=${encodeURIComponent(greeting)}`;\n    url += `&body=${encodeURIComponent(body)}`;\n    url += `&closing=${encodeURIComponent(closing)}`;\n\n    return url;\n  }\n\n  const sendEmail = (event) => {\n    event.preventDefault();\n    \n    let mailto = `mailto:${email}`;\n    mailto += '?subject=E-Card';\n    mailto += '&body=You have received an e-greeting card.';\n    mailto += '%0D%0A%0D%0A';\n    mailto += 'Go To Greeting Card';\n    mailto += '%0D%0A';\n\n    let url = createShareUrl();\n\n    mailto += encodeURIComponent(url);\n\n    window.open(mailto);\n  }\n\n  const renderShareMethod = () => {\n    switch(shareMethod) {\n      case 'email':\n        return (\n          <form className=\"form-share-email\">\n            <label htmlFor=\"email\">Recipient Email</label>\n            <div className=\"form-email-input\">\n              <input\n                type=\"text\"\n                name=\"email\"\n                placeholder='Email'\n                onChange={event => setEmail(event.target.value)} />\n              <button onClick={sendEmail}>Send</button>\n            </div>\n          </form>\n        );\n      case 'link':\n        return shortLink ? (\n          <div className=\"form-share-email\">\n            <label htmlFor=\"link\">Short Link</label>\n            <div className=\"form-email-input\">\n              <input\n                type=\"text\"\n                name=\"link\"\n                readOnly={true}\n                value={shortLink}\n              />\n            </div>\n          </div>\n        ): ( \n          <h2>{!shortLinkError ? 'Loading...' : 'Error creating a short link'}</h2>\n        )\n      default:\n        return (\n          <div className=\"share-buttons\">\n            <MdOutlineMail className='icon' onClick={() => { setShareMethod('email') }} />\n            <MdOutlineLink className='icon' onClick={() => { setShareMethod('link') }} />\n          </div>\n        );\n    }\n  }\n\n  useEffect(() => {\n    if (shareMethod && !shortLink) {\n      const shareUrl = createShareUrl();\n      generateShortLink(shareUrl)\n        .then(({ shortLink }) => {\n          setShortLink(shortLink);\n        })\n        .catch(() => {\n          setShortLinkError(true);\n        });\n    }\n  }, [shareMethod, shortLink]);\n\n  return show && (\n    <div className=\"share-container\">\n      <div className=\"share-header\">\n        <h4>Share Your Greeting Card</h4>\n        <IoMdCloseCircleOutline className='icon' onClick={() => {\n          setShowShare(false);\n          setShareMethod('');\n          setShortLinkError(false);\n        }}\n        />\n      </div>\n      { renderShareMethod() }\n    </div>\n  )\n}","import { useState } from 'react';\nimport GreetingCard from '../GreetingCard';\nimport Share from '../Share';\nimport './styles.css';\n\nexport default function Preview ({ greetingData, setStatus }) {\n  const [showShare, setShowShare] = useState(false);\n  \n  return (\n    <div className=\"preview-container\">\n      <GreetingCard\n        greetingData={greetingData}\n        setStatus={setStatus}\n      />\n      <Share\n        show={showShare}\n        setShowShare={setShowShare}\n        greetingData={greetingData}\n      />\n      <div className=\"preview-buttons\">\n        <button\n          onClick={() => setShowShare(true)}\n        >\n          Share Greeting\n        </button>\n        <button\n          onClick={() => setStatus('customize')}\n        >\n          Customize\n        </button>\n      </div>\n    </div>\n  )\n}","import './App.css';\nimport CustomizeMessage from './components/CustomizeMessage';\nimport Welcome from './components/Welcome';\nimport Preview from './components/Preview';\nimport { useState } from 'react';\n\nfunction App() {\n  const query = new URLSearchParams(window.location.search);\n  const [greetingData, setGreetingData] = useState({ \n    greeting: query.get('greeting') || '',\n    body: query.get('body') || '',\n    closing: query.get('closing') || '',\n  });\n  const [status, setStatus] = useState([...query.keys()].length > 0 ? 'preview' : 'init');\n\n  const renderApp = () => {\n    switch(status) {\n      case 'init':\n        return <Welcome setStatus={setStatus}/>;\n      case 'customize':\n        return <CustomizeMessage\n          setGreetingData={setGreetingData}\n          setStatus={setStatus}\n          greetingData={greetingData}\n        />;\n      case 'preview':\n        return <Preview\n          greetingData={greetingData}\n          setStatus={setStatus}\n        />;\n      default:\n        return;\n    }\n  }\n\n  return (\n    <div className='App'>      \n    { renderApp() }\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}